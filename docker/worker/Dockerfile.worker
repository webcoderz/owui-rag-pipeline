FROM python:3.12-slim

WORKDIR /app

# basic deps (python-multipart needed for UploadFile)
RUN pip install --no-cache-dir fastapi uvicorn[standard] python-multipart nvidia-rag[rag,ingest]

COPY nvidia_rag_worker.py /app/nvidia_rag_worker.py

EXPOSE 8123
CMD ["uvicorn", "nvidia_rag_worker:app", "--host", "0.0.0.0", "--port", "8123"]
